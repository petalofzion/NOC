cat > /tmp/p_implies_q_implies_p.deduck <<'EOF'
|- P -> (Q -> P)
Ref P
+ 1 Q
→+ 2 P
→+ 3 Q
exact 4
EOF

deduck /tmp/p_implies_q_implies_p.deduck